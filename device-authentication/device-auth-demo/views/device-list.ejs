<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>Devices</title><link rel="stylesheet" href="/css/style.css"></head>
<body><nav class="navbar"><div class="container"><div class="nav-brand">ğŸ” Device Auth</div>
<div class="nav-menu"><a href="/dashboard">Dashboard</a><a href="/devices" class="active">Devices</a>
<a href="/service-accounts">Service Accounts</a><span>ğŸ‘¤ <%= user.name %></span><a href="/auth/logout">Logout</a></div></div></nav>
<div class="main-content"><div class="container"><div class="page-header"><h1>Registered Devices (<%= devices.length %>)</h1>
<a href="/devices/register" class="btn btn-primary">Register New Device</a></div>
<div class="stats-mini"><div class="stat-mini"><strong><%= stats.byStatus.active %></strong> Active</div>
<div class="stat-mini"><strong><%= stats.byStatus.pending %></strong> Pending</div>
<div class="stat-mini"><strong><%= stats.byTrustLevel.trusted %></strong> Trusted</div></div>
<div class="device-grid"><% devices.forEach(device => { %>
<div class="device-card"><div class="device-header"><h3><%= device.name %></h3>
<span class="badge <%= device.status %>"><%= device.status %></span></div>
<div class="device-body"><p><strong>Type:</strong> <%= device.type %></p>
<p><strong>Trust Level:</strong> <span class="badge <%= device.trustLevel %>"><%= device.trustLevel %></span></p>
<p><strong>Device ID:</strong> <%= device.deviceId %></p>
<% if (device.stats.lastSeen) { %><p><strong>Last Seen:</strong> <%= new Date(device.stats.lastSeen).toLocaleString() %></p><% } %>
<p><strong>Connections:</strong> <%= device.stats.connectionsCount %></p></div>
<div class="device-footer"><a href="/devices/<%= device.id %>" class="btn btn-small">View Details</a></div></div>
<% }); %></div></div></div></body></html>
